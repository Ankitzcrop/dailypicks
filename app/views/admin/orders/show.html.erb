<div class="container mt-4">

  <!-- Order Header -->
  <div class="card shadow-sm mb-4">
    <div class="card-body d-flex justify-content-between align-items-center">
      <div>
        <h4 class="fw-bold mb-1">Order #<%= @order.id %></h4>
        <small class="text-muted">
          Placed on <%= @order.created_at.strftime("%d %b %Y, %I:%M %p") %>
        </small>
      </div>

      <!-- Status Badge -->
      <span class="badge status-badge
        <%= case @order.status
            when "pending" then "bg-warning text-dark"
            when "confirmed" then "bg-info"
            when "shipped" then "bg-primary"
            when "delivered" then "bg-success"
            when "cancelled" then "bg-danger"
            else "bg-secondary"
            end %>">
        <%= @order.status.capitalize %>
      </span>
    </div>
  </div>

  <!-- Order Info -->
  <div class="row">
    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="fw-bold mb-3">Customer Details</h6>

          <p class="mb-2">
            <strong>Email:</strong><br>
            <span class="text-muted"><%= @order.user.email %></span>
          </p>

          <p class="mb-0">
            <strong>Total Amount:</strong><br>
            <span class="text-success fw-bold fs-5">
              â‚± <%= @order.total_amount %>
            </span>
          </p>
        </div>
      </div>
    </div>

    <!-- Update Status -->
    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="fw-bold mb-3">Update Order Status</h6>

          <%= form_with model: @order,
                url: admin_order_path(@order),
                method: :patch do %>

            <div class="mb-3">
              <%= select_tag :status,
                    options_for_select(
                      ["pending", "confirmed", "shipped", "delivered", "cancelled"],
                      @order.status
                    ),
                    class: "form-select" %>
            </div>

            <%= submit_tag "Update Status",
                  class: "btn btn-success w-100 fw-semibold" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>

</div>
<style>
  .status-badge {
    padding: 8px 16px;
    font-size: 13px;
    font-weight: 600;
    border-radius: 20px;
    min-width: 110px;
    text-align: center;
  }
</style>
